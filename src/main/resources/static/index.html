<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <!-- Meta tags Obrigatórias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Olá, mundo!</title>
    
     <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
    
  </head>
  <body>
  
    <h1>spring rest API!</h1>
    
    <form action="" id=formCadastroUser>

		<div class="form-group">
			<label for="id">ID</label> <input type="text" class="form-control"
				id="id" readonly="readonly">
		</div>

		<div class="form-group">
			<label for="nome">Nome do usuario</label> <input type="text"
				class="form-control" id="nome" placeholder="Informe o seu nome"
				required="required">
		</div>

		<div class="form-group">
			<label for="idade">Idade</label> <input type="number"
				class="form-control" id="idade">
		</div>
	</form>
	
	<button type="button" class="btn btn-primary" onclick='salvarUsuario()'>Salvar</button>
	
	

<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

<script type="text/javascript">
function salvarUsuario(){
	
	var dados = {
		id:  $('#id').val(),
		nome: $('#nome').val(),
		idade: $('#idade').val()
	};
	
	var dadosJSON = JSON.stringify(dados);
	
	$.ajax({
		 method: 'POST',
		 url: 'http://localhost:8000/curso-jdev-treinamento/salvar',
		 data: dadosJSON,
		 contentType: 'application/json; charset=utf8',
		 success: function(response){
			 alert('gravou com sucesso!')
		 }
		}).fail(function(xhr, status, errorThrow){
			alert('erro ao salvar o usuario! ' + xhr.responseText);
		});
	
}

</script>

</body>
</html>